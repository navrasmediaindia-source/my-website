<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>That's Just Khushi — Safe Player</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Poppins:wght@500;700&display=swap" rel="stylesheet">
<style>
  :root{
    --bg1:#050308;
    --muted: rgba(255,255,255,0.78);
    --accent1:#c78cff; /* purple */
    --accent2:#ffd38a; /* gold */
    --glass: rgba(255,255,255,0.03);
  }
  *{box-sizing:border-box}
  body{
    margin:0;
    min-height:100vh;
    font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    color:var(--muted);
    background:
      radial-gradient(1200px 600px at 10% 10%, #0b0520 0%, #060509 35%, #040204 100%),
      linear-gradient(180deg, #05040a, #07060a);
    -webkit-font-smoothing:antialiased;
  }

  /* blurred background artwork */
  .bg-art{
    position:fixed;inset:0;z-index:0;
    background-image:url("1762277173728.jpg");
    background-size:cover;background-position:center;
    transform:scale(1.06);filter:blur(18px) brightness(.45) saturate(.9);
    opacity:0.95;
  }
  .bg-overlay{position:fixed;inset:0;z-index:1;background:linear-gradient(180deg, rgba(9,6,20,0.45), rgba(4,3,6,0.75));mix-blend-mode:multiply}

  .wrap{position:relative;z-index:2;min-height:100dvh;display:flex;align-items:center;justify-content:center;padding:28px}

  .card{
    width:min(980px,96vw);
    border-radius:18px;
    padding:22px;
    display:grid;
    grid-template-columns: 320px 1fr;
    gap:24px;
    align-items:center;
    background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
    border:1px solid rgba(255,255,255,0.04);
    backdrop-filter: blur(12px) saturate(120%);
    box-shadow: 0 12px 40px rgba(2,6,23,0.65);
  }

  .cover{width:100%;aspect-ratio:1/1;border-radius:12px;overflow:hidden;border:1px solid rgba(255,255,255,0.035);box-shadow:0 6px 20px rgba(2,6,23,0.7)}
  .cover img{width:100%;height:100%;object-fit:cover;display:block}

  .meta{display:flex;flex-direction:column;gap:10px;padding-right:6px}
  .title{font-family:Poppins,Inter;font-size:20px;color:var(--accent2);font-weight:700}
  .artist{font-size:13px;color:rgba(255,255,255,0.94);font-weight:600}
  .desc{font-size:14px;color:rgba(255,255,255,0.82);line-height:1.45;margin-top:4px}

  .controls{display:flex;align-items:center;gap:12px;margin-top:12px}
  .big-btn{width:68px;height:68px;border-radius:14px;display:grid;place-items:center;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.04);cursor:pointer}
  .btn{width:48px;height:48px;border-radius:12px;display:grid;place-items:center;background:transparent;border:1px solid rgba(255,255,255,0.03);cursor:pointer}

  svg{width:22px;height:22px;stroke:currentColor;fill:none;stroke-width:1.6;stroke-linecap:round;stroke-linejoin:round;color:var(--muted)}

  .progress-area{margin-top:14px;display:flex;flex-direction:column;gap:10px}
  .time-row{display:flex;justify-content:space-between;font-size:13px;color:rgba(255,255,255,0.7)}
  input[type="range"]{appearance:none;width:100%;height:10px;border-radius:999px;background:linear-gradient(90deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));outline:none}
  input[type="range"]::-webkit-slider-thumb{appearance:none;width:16px;height:16px;border-radius:50%;background:linear-gradient(180deg,var(--accent1),var(--accent2));border:2px solid rgba(255,255,255,0.95);box-shadow:0 6px 18px rgba(151,84,200,0.12)}

  /* volume area below progress */
  .volume-area{display:flex;align-items:center;gap:12px;margin-top:6px}
  .mute-btn{width:40px;height:40px;border-radius:10px;display:grid;place-items:center;background:transparent;border:1px solid rgba(255,255,255,0.03);cursor:pointer}
  .volume-range{flex:1;height:8px;border-radius:999px;appearance:none;background:linear-gradient(90deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02))}
  .volume-range::-webkit-slider-thumb{appearance:none;width:14px;height:14px;border-radius:50%;background:linear-gradient(180deg,var(--accent1),var(--accent2));border:2px solid rgba(255,255,255,0.95)}
  .vol-label{font-size:13px;color:rgba(255,255,255,0.65);min-width:48px;text-align:right}

  .lyrics-panel{margin-top:18px;border-radius:12px;padding:14px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.03);backdrop-filter: blur(8px) saturate(120%);max-height:360px;overflow:auto;scroll-behavior:smooth}
  .lyrics-line{padding:8px 10px;border-radius:8px;color:rgba(255,255,255,0.78);font-size:15px;line-height:1.55;cursor:pointer}
  .lyrics-line.active{color:var(--accent1);font-weight:700;background:linear-gradient(90deg, rgba(199,140,255,0.04), rgba(255,211,138,0.03));box-shadow:0 6px 18px rgba(97,40,110,0.12)}

  .small{font-size:13px;color:rgba(255,255,255,0.6);margin-top:8px}

  @media (max-width:820px){
    .card{grid-template-columns:1fr;gap:18px;padding:18px}
    .cover{height:min(62vw,360px)}
    .lyrics-panel{max-height:260px;padding:12px}
  }
</style>
</head>
<body>
  <div class="bg-art" aria-hidden="true"></div>
  <div class="bg-overlay" aria-hidden="true"></div>

  <div class="wrap">
    <div style="width:100%;max-width:1040px">
      <div class="card" role="region" aria-label="Music player card">
        <div class="cover" aria-hidden="true">
          <img src="1762277173728.jpg" alt="Album art — That's Just Khushi">
        </div>

        <div class="meta">
          <div>
            <div class="title">That's Just Khushi</div>
            <div class="artist">Nisarg Patel</div>
          </div>

          <div class="desc" id="song-desc">A warm, playful track celebrating small joys — coffee runs, late-night study sessions, and the brightness a friend brings.</div>

          <div class="controls" role="group" aria-label="player controls">
            <button class="btn" id="rew" title="Rewind 10s" aria-label="Rewind 10 seconds">
              <svg viewBox="0 0 24 24"><path d="M11 19V5l-8 7 8 7zM21 19V5l-8 7 8 7z"></path></svg>
            </button>

            <button class="big-btn" id="play" title="Play" aria-label="Play">
              <svg id="playIcon" viewBox="0 0 24 24"><path d="M5 3v18l15-9z"></path></svg>
              <svg id="pauseIcon" viewBox="0 0 24 24" style="display:none"><path d="M6 19h4V5H6v14zM14 5v14h4V5h-4z"/></svg>
            </button>

            <button class="btn" id="fwd" title="Forward 10s" aria-label="Forward 10 seconds">
              <svg viewBox="0 0 24 24"><path d="M13 5v14l8-7-8-7zM3 5v14l8-7-8-7z"></path></svg>
            </button>

            <div style="flex:1"></div>

            <div class="small" id="status">Ready</div>
          </div>

          <div class="progress-area">
            <input type="range" id="seek" min="0" max="100" step="0.1" value="0" aria-label="Seek">
            <div class="time-row"><div id="current">0:00</div><div id="duration">0:00</div></div>

            <!-- volume controls below the progress -->
            <div class="volume-area" aria-label="Volume controls">
              <button class="mute-btn" id="muteBtn" title="Mute / Unmute" aria-label="Mute or unmute">
                <svg id="volumeOn" viewBox="0 0 24 24"><path d="M11 5L6 9H3v6h3l5 4V5z"></path></svg>
                <svg id="volumeOff" viewBox="0 0 24 24" style="display:none"><path d="M16 7l-1.41 1.41L18.17 12l-3.58 3.59L16 17l4-4-4-6z"></path></svg>
              </button>
              <input type="range" id="volume" class="volume-range" min="0" max="1" step="0.01" value="1" aria-label="Volume">
              <div class="vol-label" id="volLabel">100%</div>
            </div>
          </div>
        </div>
      </div>

      <!-- lyrics panel -->
      <div class="lyrics-panel" id="lyricsPanel" aria-label="Live lyrics"></div>
    </div>
  </div>

  <audio id="audio" preload="auto" src="That's Just Khushi  -  By Nisarg Patel.mp3"></audio>

<script>
/* Lyrics text (user provided) */
const lyricsText = `Walks in late, coffee in hand,
Talks to plants like they understand.
Loses the notes but still finds the way,
Turns dull moments into brighter days.

Spectacles sliding, thoughts keep flying,
Turns every worry into silver lining.

That’s just Khushi —
The classmate who keeps things light,
Assignment buddy through the night.
Laughs at her own random jokes,
Fixes the world when no one spoke.
A little silly, a little wise,
The calm in every sunrise —
Yeah, that’s just Khushi.

Last-minute teacher before exams,
Still helps others when the pressure slams.
Plans like a pro, cares like a friend,
Always got my back till the end.

Spectacles shining, always reminding,
Life’s better when you’re still smiling.

That’s just Khushi —
The classmate who keeps things light,
Assignment buddy through the night.
Laughs at her own random jokes,
Fixes the world when no one spoke.
A little silly, a little wise,
The calm in every sunrise — 
Yeah, that’s just Khushi.

From late submissions to endless talks,
From chaos to calm in college walks.
No crown, no fame, no show —
Still the brightest soul I know.

That’s just Khushi —
Makes chaos look cool,
And kindness her rule.
A little lost, a little free,
Exactly how she’s meant to be.
Yeah… that’s just Khushi.

So here’s to more laughs, more light,
More coffee runs and late-night fights.
Happy Birthday, Khushi — stay the same,
The world’s brighter just with your name.`.trim();

/* prepare lyrics lines */
const lines = lyricsText.split(/\r?\n/).map(l=>l.trim()).filter(l=>l.length>0);
const lyricsPanel = document.getElementById('lyricsPanel');
lines.forEach((ln, idx)=>{
  const d = document.createElement('div');
  d.className = 'lyrics-line';
  d.dataset.index = idx;
  d.textContent = ln;
  d.addEventListener('click', ()=>{ if(timestamps.length) audio.currentTime = timestamps[idx] || 0; });
  lyricsPanel.appendChild(d);
});

/* elements */
const audio = document.getElementById('audio');
const playBtn = document.getElementById('play');
const playIcon = document.getElementById('playIcon');
const pauseIcon = document.getElementById('pauseIcon');
const rew = document.getElementById('rew');
const fwd = document.getElementById('fwd');
const seek = document.getElementById('seek');
const currentEl = document.getElementById('current');
const durationEl = document.getElementById('duration');
const statusEl = document.getElementById('status');

const muteBtn = document.getElementById('muteBtn');
const volumeOn = document.getElementById('volumeOn');
const volumeOff = document.getElementById('volumeOff');
const volumeRange = document.getElementById('volume');
const volLabel = document.getElementById('volLabel');

/* defaults: full audible volume */
audio.volume = 1.0;
volumeRange.value = 1;
volLabel.textContent = '100%';

let timestamps = [];

/* format seconds */
function fmt(s){ if(!isFinite(s)) return '0:00'; const m=Math.floor(s/60); const sec=Math.floor(s%60).toString().padStart(2,'0'); return `${m}:${sec}`; }

/* when metadata loads, set durations and generate simple timestamps */
audio.addEventListener('loadedmetadata', ()=>{
  durationEl.textContent = fmt(audio.duration);
  seek.max = Math.floor(audio.duration);
  if(lines.length>1){
    // evenly space timestamps across duration, leaving a small tail
    timestamps = lines.map((_,i)=> Math.max(0, Math.min(audio.duration-0.5, (audio.duration * i) / lines.length)));
  }else timestamps=[0];
  statusEl.textContent = 'Ready';
});

/* timeupdate: update seek and lyrics highlight */
audio.addEventListener('timeupdate', ()=>{
  currentEl.textContent = fmt(audio.currentTime);
  if(!seek.dragging) seek.value = audio.currentTime;
  // find index for current line
  let idx = timestamps.length - 1;
  for(let i=0;i<timestamps.length;i++){
    if(audio.currentTime < timestamps[i]){ idx = Math.max(0,i-1); break; }
  }
  highlightLine(idx);
});

/* highlight/scroll lyrics */
let lastActive = -1;
function highlightLine(idx){
  if(idx === lastActive) return;
  lastActive = idx;
  document.querySelectorAll('.lyrics-line').forEach(n=>n.classList.remove('active'));
  const cur = document.querySelector('.lyrics-line[data-index="'+idx+'"]');
  if(cur){
    cur.classList.add('active');
    // center the active line
    const panel = lyricsPanel;
    const panelRect = panel.getBoundingClientRect();
    const curRect = cur.getBoundingClientRect();
    const offset = (curRect.top + curRect.bottom) / 2 - (panelRect.top + panelRect.bottom) / 2;
    panel.scrollBy({ top: offset, behavior: 'smooth' });
  }
}

/* play/pause toggle */
async function togglePlay(){
  try{
    if(audio.paused){
      await audio.play();
      playIcon.style.display='none';
      pauseIcon.style.display='block';
      statusEl.textContent = 'Playing';
    }else{
      audio.pause();
      playIcon.style.display='block';
      pauseIcon.style.display='none';
      statusEl.textContent = 'Paused';
    }
  }catch(err){
    console.warn('Play failed', err);
    statusEl.textContent = 'Tap to play';
  }
}
playBtn && playBtn.addEventListener('click', togglePlay);

/* autoplay attempt (graceful) */
window.addEventListener('load', async ()=>{
  try{
    await audio.play();
    playIcon.style.display='none';
    pauseIcon.style.display='block';
    statusEl.textContent = 'Playing (Autoplay)';
  }catch(e){
    statusEl.textContent = 'Autoplay blocked — tap play';
  }
});

/* seeking handlers */
seek.addEventListener('input', (e)=>{ currentEl.textContent = fmt(e.target.value); });
seek.addEventListener('change', (e)=>{ audio.currentTime = Number(e.target.value); });
seek.addEventListener('mousedown', ()=>{ seek.dragging = true });
seek.addEventListener('touchstart', ()=>{ seek.dragging = true });
seek.addEventListener('mouseup', ()=>{ seek.dragging = false });
seek.addEventListener('touchend', ()=>{ seek.dragging = false });

/* skip buttons */
rew.addEventListener('click', ()=>{ audio.currentTime = Math.max(0, audio.currentTime - 10); });
fwd.addEventListener('click', ()=>{ audio.currentTime = Math.min(audio.duration, audio.currentTime + 10); });

/* mute/unmute */
function updateMuteUI(){
  if(audio.muted || audio.volume === 0){
    volumeOn.style.display = 'none';
    volumeOff.style.display = 'block';
  }else{
    volumeOn.style.display = 'block';
    volumeOff.style.display = 'none';
  }
}
muteBtn.addEventListener('click', ()=>{
  audio.muted = !audio.muted;
  updateMuteUI();
});

/* volume slider */
volumeRange.addEventListener('input', (e)=>{
  const v = Number(e.target.value);
  audio.volume = v;
  if(v === 0) audio.muted = true; else audio.muted = false;
  volLabel.textContent = Math.round(v*100) + '%';
  updateMuteUI();
});

/* keyboard support */
window.addEventListener('keydown', (e)=>{
  if(e.code === 'Space' && document.activeElement.tagName !== 'INPUT'){ e.preventDefault(); togglePlay(); }
  if(e.key === 'ArrowRight') audio.currentTime = Math.min(audio.duration, audio.currentTime + 5);
  if(e.key === 'ArrowLeft') audio.currentTime = Math.max(0, audio.currentTime - 5);
});

/* when audio ends */
audio.addEventListener('ended', ()=>{
  playIcon.style.display='block';
  pauseIcon.style.display='none';
  statusEl.textContent = 'Finished';
});
</script>
</body>
</html>
